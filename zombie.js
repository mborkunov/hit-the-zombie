var g=void 0,i=!0,j=null,m=!1,n,r=this;
function s(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function t(a){return"string"==typeof a}var u="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),ba=0;function ca(a,b,c){return a.call.apply(a.bind,arguments)}
function da(a,b,c){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,e);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function v(a,b,c){v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ca:da;return v.apply(j,arguments)}
function ea(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}function fa(a,b){function c(){}c.prototype=b.prototype;a.N=b.prototype;a.prototype=new c};var ga={};function ha(a){return ga[a]||(ga[a]=(""+a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()}))};var w=Array.prototype,ia=w.indexOf?function(a,b,c){return w.indexOf.call(a,b,c)}:function(a,b,c){c=c==j?0:0>c?Math.max(0,a.length+c):c;if(t(a))return!t(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},x=w.forEach?function(a,b,c){w.forEach.call(a,b,c)}:function(a,b,c){for(var e=a.length,h=t(a)?a.split(""):a,d=0;d<e;d++)d in h&&b.call(c,h[d],d,a)},ja=w.filter?function(a,b,c){return w.filter.call(a,b,c)}:function(a,b,c){for(var e=a.length,h=[],d=0,f=t(a)?a.split(""):
a,k=0;k<e;k++)if(k in f){var l=f[k];b.call(c,l,k,a)&&(h[d++]=l)}return h};function ka(a,b,c,e){w.splice.apply(a,la(arguments,1))}function la(a,b,c){return 2>=arguments.length?w.slice.call(a,b):w.slice.call(a,b,c)};function ma(a){return(a=a.className)&&"function"==typeof a.split?a.split(/\s+/):[]}function z(a,b){for(var c=ma(a),e=la(arguments,1),h=c,d=0,f=0;f<e.length;f++)0<=ia(h,e[f])||(h.push(e[f]),d++);a.className=c.join(" ")}function A(a,b){for(var c=ma(a),e=la(arguments,1),h=c,d=0,f=0;f<h.length;f++)0<=ia(e,h[f])&&(ka(h,f--,1),d++);a.className=c.join(" ")};var B,na,C,oa;function D(){return r.navigator?r.navigator.userAgent:j}oa=C=na=B=m;var E;if(E=D()){var pa=r.navigator;B=0==E.indexOf("Opera");na=!B&&-1!=E.indexOf("MSIE");C=!B&&-1!=E.indexOf("WebKit");oa=!B&&!C&&"Gecko"==pa.product}var F=na,G=oa,qa=C,ra=r.navigator,sa=-1!=(ra&&ra.platform||"").indexOf("Mac"),ta;
a:{var H="",I;if(B&&r.opera)var ua=r.opera.version,H="function"==typeof ua?ua():ua;else if(G?I=/rv\:([^\);]+)(\)|;)/:F?I=/MSIE\s+([^\);]+)(\)|;)/:qa&&(I=/WebKit\/(\S+)/),I)var va=I.exec(D()),H=va?va[1]:"";if(F){var wa,xa=r.document;wa=xa?xa.documentMode:g;if(wa>parseFloat(H)){ta=""+wa;break a}}ta=H}var ya={};
function za(a){var b;if(!(b=ya[a])){b=0;for(var c=(""+ta).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=(""+a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),h=Math.max(c.length,e.length),d=0;0==b&&d<h;d++){var f=c[d]||"",k=e[d]||"",l=RegExp("(\\d*)(\\D*)","g"),o=RegExp("(\\d*)(\\D*)","g");do{var q=l.exec(f)||["","",""],p=o.exec(k)||["","",""];if(0==q[0].length&&0==p[0].length)break;b=((0==q[1].length?0:parseInt(q[1],10))<(0==p[1].length?0:parseInt(p[1],10))?-1:(0==q[1].length?0:parseInt(q[1],
10))>(0==p[1].length?0:parseInt(p[1],10))?1:0)||((0==q[2].length)<(0==p[2].length)?-1:(0==q[2].length)>(0==p[2].length)?1:0)||(q[2]<p[2]?-1:q[2]>p[2]?1:0)}while(0==b)}b=ya[a]=0<=b}return b}var Aa={};function J(){return Aa[9]||(Aa[9]=F&&document.documentMode&&9<=document.documentMode)};!F||J();!G&&!F||F&&J()||G&&za("1.9.1");F&&za("9");function K(a){return t(a)?document.getElementById(a):a}function L(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{for(var c;c=a.firstChild;)a.removeChild(c);a.appendChild((9==a.nodeType?a:a.ownerDocument||a.document).createTextNode(b))}};var M=["zombie","cat"],N=M[0];function Ba(){if(localStorage){var a=localStorage.getItem("theme");a&&(N=a)}z(document.body,N)};function O(a,b,c){if(t(b))Ca(a,c,b);else{var a=ea(Ca,a),e;for(e in b)a.call(g,b[e],e,b)}}function Ca(a,b,c){a.style[ha(c)]=b};function Da(){}var Ea=0;n=Da.prototype;n.key=0;n.i=m;n.D=m;n.s=function(a,b,c,e,h,d){if("function"==s(a))this.I=i;else if(a&&a.handleEvent&&"function"==s(a.handleEvent))this.I=m;else throw Error("Invalid listener argument");this.f=a;this.K=b;this.src=c;this.type=e;this.capture=!!h;this.H=d;this.D=m;this.key=++Ea;this.i=m};n.handleEvent=function(a){return this.I?this.f.call(this.H||this.src,a):this.f.handleEvent.call(this.f,a)};var Fa=!F||J(),Ga=!F||J(),Ha=F&&!za("8");function P(){}P.prototype.G=m;P.prototype.q=function(){if(!this.G)this.G=i,this.r()};P.prototype.r=function(){this.Q&&Ia.apply(j,this.Q)};function Ia(a){for(var b=0,c=arguments.length;b<c;++b){var e=arguments[b],h=s(e);"array"==h||"object"==h&&"number"==typeof e.length?Ia.apply(j,e):e&&"function"==typeof e.q&&e.q()}};function Q(a,b){this.type=a;this.currentTarget=this.target=b}fa(Q,P);Q.prototype.r=function(){delete this.type;delete this.target;delete this.currentTarget};Q.prototype.A=m;Q.prototype.L=i;Q.prototype.preventDefault=function(){this.L=m};function Ja(a){Ja[" "](a);return a}Ja[" "]=function(){};function R(a,b){a&&this.s(a,b)}fa(R,Q);var Ka=[1,4,2];n=R.prototype;n.target=j;n.relatedTarget=j;n.offsetX=0;n.offsetY=0;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.button=0;n.keyCode=0;n.charCode=0;n.ctrlKey=m;n.altKey=m;n.shiftKey=m;n.metaKey=m;n.S=m;n.k=j;
n.s=function(a,b){var c=this.type=a.type;Q.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var e=a.relatedTarget;if(e){if(G){var h;a:{try{Ja(e.nodeName);h=i;break a}catch(d){}h=m}h||(e=j)}}else if("mouseover"==c)e=a.fromElement;else if("mouseout"==c)e=a.toElement;this.relatedTarget=e;this.offsetX=a.offsetX!==g?a.offsetX:a.layerX;this.offsetY=a.offsetY!==g?a.offsetY:a.layerY;this.clientX=a.clientX!==g?a.clientX:a.pageX;this.clientY=a.clientY!==g?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.S=sa?a.metaKey:a.ctrlKey;this.state=a.state;this.k=a;delete this.L;delete this.A};
n.preventDefault=function(){R.N.preventDefault.call(this);var a=this.k;if(a.preventDefault)a.preventDefault();else if(a.returnValue=m,Ha)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};n.r=function(){R.N.r.call(this);this.relatedTarget=this.currentTarget=this.target=this.k=j};var S={},T={},U={},V={};
function W(a,b,c,e,h){if(b)if("array"==s(b))for(var d=0;d<b.length;d++)W(a,b[d],c,e,h);else{var e=!!e,f=T;b in f||(f[b]={c:0,g:0});f=f[b];e in f||(f[e]={c:0,g:0},f.c++);var f=f[e],k=a[u]||(a[u]=++ba),l;f.g++;if(f[k]){l=f[k];for(d=0;d<l.length;d++)if(f=l[d],f.f==c&&f.H==h){if(f.i)break;return}}else l=f[k]=[],f.c++;d=La();d.src=a;f=new Da;f.s(c,d,a,b,e,h);c=f.key;d.key=c;l.push(f);S[c]=f;U[k]||(U[k]=[]);U[k].push(f);a.addEventListener?(a==r||!a.P)&&a.addEventListener(b,d,e):a.attachEvent(b in V?V[b]:
V[b]="on"+b,d)}else throw Error("Invalid event type");}function La(){var a=Ma,b=Ga?function(c){return a.call(b.src,b.key,c)}:function(c){c=a.call(b.src,b.key,c);if(!c)return c};return b}function Na(a,b,c,e){if(!e.t&&e.J){for(var h=0,d=0;h<e.length;h++)e[h].i?e[h].K.src=j:(h!=d&&(e[d]=e[h]),d++);e.length=d;e.J=m;0==d&&(delete T[a][b][c],T[a][b].c--,0==T[a][b].c&&(delete T[a][b],T[a].c--),0==T[a].c&&delete T[a])}}
function Oa(a,b,c,e,h){var d=1,b=b[u]||(b[u]=++ba);if(a[b]){a.g--;a=a[b];a.t?a.t++:a.t=1;try{for(var f=a.length,k=0;k<f;k++){var l=a[k];l&&!l.i&&(d&=Pa(l,h)!==m)}}finally{a.t--,Na(c,e,b,a)}}return Boolean(d)}
function Pa(a,b){var c=a.handleEvent(b);if(a.D){var e=a.key;if(S[e]){var h=S[e];if(!h.i){var d=h.src,f=h.type,k=h.K,l=h.capture;d.removeEventListener?(d==r||!d.P)&&d.removeEventListener(f,k,l):d.detachEvent&&d.detachEvent(f in V?V[f]:V[f]="on"+f,k);d=d[u]||(d[u]=++ba);k=T[f][l][d];if(U[d]){var o=U[d],q=ia(o,h);0<=q&&w.splice.call(o,q,1);0==o.length&&delete U[d]}h.i=i;k.J=i;Na(f,l,d,k);delete S[e]}}}return c}
function Ma(a,b){if(!S[a])return i;var c=S[a],e=c.type,h=T;if(!(e in h))return i;var h=h[e],d,f;if(!Ga){var k;if(!(k=b))a:{k="window.event".split(".");for(var l=r;d=k.shift();)if(l[d]!=j)l=l[d];else{k=j;break a}k=l}d=k;k=i in h;l=m in h;if(k){if(0>d.keyCode||d.returnValue!=g)return i;a:{var o=m;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(q){o=i}if(o||d.returnValue==g)d.returnValue=i}}o=new R;o.s(d,this);d=i;try{if(k){for(var p=[],aa=o.currentTarget;aa;aa=aa.parentNode)p.push(aa);f=h[i];f.g=f.c;
for(var y=p.length-1;!o.A&&0<=y&&f.g;y--)o.currentTarget=p[y],d&=Oa(f,p[y],e,i,o);if(l){f=h[m];f.g=f.c;for(y=0;!o.A&&y<p.length&&f.g;y++)o.currentTarget=p[y],d&=Oa(f,p[y],e,m,o)}}else d=Pa(c,o)}finally{if(p)p.length=0;o.q()}return d}e=new R(b,this);try{d=Pa(c,e)}finally{e.q()}return d};var Qa,Ra;Ra=Qa=m;var X=D();X&&(-1!=X.indexOf("Firefox")||-1!=X.indexOf("Camino")||-1!=X.indexOf("iPhone")||-1!=X.indexOf("iPod")||(-1!=X.indexOf("iPad")?Qa=i:-1!=X.indexOf("Android")&&(Ra=i)));var Sa=Qa,Ta=Ra;var Ua=m,Y=i,Z={},Va=j;function Wa(a){var b;if(Y)if(b="ogg","undefined"==typeof Z[N]&&(Z[N]={}),"undefined"==typeof Z[N][a]){var c=new XMLHttpRequest;c.open("get","sounds/"+N+"/"+a+"."+b,i);c.responseType="arraybuffer";c.onload=function(){Va.decodeAudioData(c.response,function(b){Z[N][a]=b;Xa(b)},function(){console.error("Cannot load sound buffer",arguments);Z[N][a]=j})};c.send()}else Xa(Z[N][a])}
function Xa(a){if(a){var b=Va.createBufferSource(0);b.buffer=a;b.connect(Va.destination);b.noteOn(0)}}if(!Ua){Ua=i;try{Va=new window.webkitAudioContext,Y=!(localStorage.getItem("sound")!=j&&"false"==localStorage.getItem("sound"))}catch(Ya){}};function Za(a){this.l=a}n=Za.prototype;n.a=j;n.l=j;n.C=0;n.M=0;n.p=0;n.h=i;n.j=m;n.b=0;
n.update=function(){if(this.j){360<=this.b&&(this.b%=360);if(0==this.b%180&&(this.p++,this.p>this.C))this.M=(new Date).getTime(),this.j=m;if(this.p<=this.C){if(90>this.b&&90<=this.b+15){A(this.a,"front");A(this.a,"target-hit");z(this.a,"target");var a=Math.ceil(3*Math.random());z(this.a,"target-"+a);this.h=m}if(270>this.b&&270<=this.b+15){z(this.a,"front target");for(a=1;3>=a;a++)A(this.a,"target-"+a);A(this.a,"target-hit");this.h=i}qa?O(this.a,"-webkit-transform","rotateY("+this.b+"deg)"):G?O(this.a,
"-moz-transform","scale("+Math.cos(this.b*Math.PI/180)+", 1)"):F?O(this.a,"-ms-transform","scale("+Math.cos(this.b*Math.PI/180)+", 1)"):O(this.a,"-o-transform","scale("+Math.cos(this.b*Math.PI/180)+", 1)");this.b+=15}}};n.w=function(a){this.a=document.createElement("div");z(this.a,"target");z(this.a,"front");a.appendChild(this.a);Sa||Ta?W(a,"touchstart",this.f,i,this):W(a,"mousedown",this.f,i,this)};n.rotate=function(a){this.j=i;this.C=a;this.p=0};
n.f=function(a){if(Fa?0==a.k.button:"click"==a.type||a.k.button&Ka[0]){var b=this.l.d,c=j;this.h?(c="shrink",b=Math.max(0,this.l.d-5),Wa("fail")):(c="grow",this.rotate(1),b=this.l.d+10,z(this.a,"target-hit"),Wa("hit"));if(b!=this.d){this.l.d=b;var e=K("score");L(e,b);e.className="";z(e,c)}a.preventDefault();return m}};var $=D(),$a=m,ab=m,bb=m,cb=m,db=m,eb=m,fb=m,gb=m,hb=m;$a||($a=i,-1!=$.indexOf("Android")&&(ab=i),-1!=$.indexOf("iPad")&&(bb=i),-1!=$.indexOf("Chrome")&&(db=i),-1!=$.indexOf("Safari")&&(eb=i),-1!=$.indexOf("Firefox")&&(cb=i),G&&(gb=i),-1!=$.indexOf("WebKit")&&(hb=i),-1!=$.indexOf("Opera")&&(fb=i));function ib(){window.applicationCache.addEventListener("updateready",function(){window.applicationCache.swapCache();window.location.reload()},m);ib.prototype.F=K("game-container");Ba();for(var a=0;15>a;a++)this.o.push(new Za(this));this.w();if(this.e=K("sound"))W(this.e,"mousedown",this.T,i,this),z(this.e,Y?"on":"off");this.n=K("start");L(this.n,"Start");this.z=K("overlay");this.B=K("timer");W(this.n,"mouseup",this.U,i,this);(a=K("theme"))&&W(a,"mousedown",this.V,i,this);if(localStorage&&localStorage.getItem("highscore"))this.m=
parseInt(localStorage.getItem("highscore")),jb(this);ab&&z(document.body,"android");bb&&z(document.body,"ipad");db&&z(document.body,"chrome");eb&&z(document.body,"safari");hb&&z(document.body,"webkit");gb&&z(document.body,"gecko");cb&&z(document.body,"firefox");fb&&z(document.body,"opera");if(db&&!chrome.app.isInstalled&&(a=K("install-button")))O(a,"display","block"),W(a,"mousedown",this.R,i,this)}n=ib.prototype;n.o=[];n.u=60;n.d=0;n.m=0;n.v=-1;n.F=j;n.n=j;n.e=j;n.B=j;n.z=j;
n.R=function(){var a=K("chrome-link").getAttribute("href");chrome.webstore.install(a,function(){var a=K("install-button");a&&O(a,"display","none")})};n.start=function(){this.startTime=(new Date).getTime();clearInterval(this.O);this.update();this.d=0;L(K("score"),"");this.O=setInterval(v(this.update,this),20);setTimeout(v(this.stop,this),1E3*(this.u-1))};
n.stop=function(){this.startTime=0;this.v=-1;O(this.n,"display","block");O(this.z,"display","block");L(this.B,"");if(this.d>this.m)this.m=this.d,localStorage.setItem("highscore",this.m),jb(this)};n.w=function(){x(this.o,function(a,b){var c=document.createElement("div"),e=Math.floor(b/5)+1,h=b%5;z(c,"target-container");O(c,{top:120*e+25+"px",left:120*h+100+"px"});a.w(c);this.F.appendChild(c)},this)};
n.update=function(){if(0!=this.startTime){var a=kb(this);0<a.length&&x(a,function(a){var c=lb(this),c=0.02*Math.round(100*c/this.u)/100;if(a.h||!(500>(new Date).getTime()-a.M))Math.random()<(a.h?0.005:7.0E-4)+c&&a.rotate(Math.round(5*Math.random()))},this);a=lb(this);if(this.v!=a)this.v=a,L(this.B,Math.max(0,this.u-this.v))}else a=mb(this),0==a.length?clearTimeout(this.O):x(a,function(a){a.j||a.rotate(1)},this);x(this.o,function(a){a.update()},this)};
function lb(a){var b=Math.round(((new Date).getTime()-a.startTime)/1E3),b=Math.min(a.u,b);return b=Math.max(0,b)}function kb(a){return ja(a.o,function(a){return!a.j})}function mb(a){return ja(a.o,function(a){return a.j||!a.h})}n.U=function(a){a.preventDefault();Wa("start");O(this.n,"display","none");O(this.z,"display","none");this.start();return m};n.T=function(a){a.preventDefault();a=!Y;localStorage.setItem("sound",a);(Y=a)?(z(this.e,"on"),A(this.e,"off")):(z(this.e,"off"),A(this.e,"on"));return m};
n.V=function(a){a.preventDefault();a=M.indexOf(N);0<=a&&(a=M[(a+1)%M.length],A(document.body,N),z(document.body,a),N=a,localStorage&&localStorage.setItem("theme",N))};function jb(a){L(K("highscore"),"Highscore: "+a.m)}window.onload=function(){function a(){return m}new ib;document.oncontextmenu=a;document.onmousedown=a;document.ontouchmove=function(a){a.preventDefault()}};
